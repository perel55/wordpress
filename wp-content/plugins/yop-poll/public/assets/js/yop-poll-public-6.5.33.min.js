if(void 0===helper)var helper={};helper.arr={multisort:function(a,t,s){if(void 0===t)for(t=[],x=0;x<a[0].length;x++)t.push(x);if(void 0===s)for(s=[],x=0;x<a[0].length;x++)s.push("ASC");return a.sort(function(a,e){return function a(e,t,s,i,o){var n="DESC"==i[o]?1:0,r=!isNaN(e[s[o]]-t[s[o]]),l=r?+e[s[o]]:e[s[o]].toLowerCase(),c=r?+t[s[o]]:t[s[o]].toLowerCase();return l<c?0==n?-1:1:l==c?s.length-1>o?a(e,t,s,i,o+1):0:0==n?1:-1}(a,e,t,s,0)})}},function(o){o.fn.popupWindow=function(a){o.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=o.extend({},o.fn.popupWindow.defaultSettings,a||{});var e,t,s,i="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;return settings.windowName=settings.windowName||this.name,settings.windowURL=settings.windowURL||this.href,settings.centerBrowser?(t=o.browser.msie?(e=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(e=window.screenY+(window.outerHeight/2-settings.height/2),window.screenX+(window.outerWidth/2-settings.width/2)),(s=window.open(settings.windowURL,settings.windowName,i+",left="+t+",top="+e)).focus()):settings.centerScreen?(e=(screen.height-settings.height)/2,t=(screen.width-settings.width)/2,(s=window.open(settings.windowURL,settings.windowName,i+",left="+t+",top="+e)).focus()):(s=window.open(settings.windowURL,settings.windowName,i+",left="+settings.left+",top="+settings.top)).focus(),s}}(jQuery),function(a,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(a.jQuery)}(this,function(a){var e,t,s,p,o,n,h,f,m,b,g,v,i,r,y;function w(a,e){return i.call(a,e)}function l(a,e){var t,s,i,o,n,r,l,c,d,u,p,h=e&&e.split("/"),f=g.map,m=f&&f["*"]||{};if(a&&"."===a.charAt(0))if(e){for(h=h.slice(0,h.length-1),n=(a=a.split("/")).length-1,g.nodeIdCompat&&y.test(a[n])&&(a[n]=a[n].replace(y,"")),a=h.concat(a),d=0;d<a.length;d+=1)if("."===(p=a[d]))a.splice(d,1),d-=1;else if(".."===p){if(1===d&&(".."===a[2]||".."===a[0]))break;0<d&&(a.splice(d-1,2),d-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((h||m)&&f){for(d=(t=a.split("/")).length;0<d;d-=1){if(s=t.slice(0,d).join("/"),h)for(u=h.length;0<u;u-=1)if(i=(i=f[h.slice(0,u).join("/")])&&i[s]){o=i,r=d;break}if(o)break;!l&&m&&m[s]&&(l=m[s],c=d)}!o&&l&&(o=l,r=c),o&&(t.splice(0,r,o),a=t.join("/"))}return a}function P(a,e){return function(){return n.apply(p,r.call(arguments,0).concat([a,e]))}}function C(e){return function(a){m[e]=a}}function x(a){if(w(b,a)){var e=b[a];delete b[a],v[a]=!0,o.apply(p,e)}if(!w(m,a)&&!w(v,a))throw new Error("No "+a);return m[a]}function c(a){var e,t=a?a.indexOf("!"):-1;return-1<t&&(e=a.substring(0,t),a=a.substring(t+1,a.length)),[e,a]}m={},b={},g={},v={},i=Object.prototype.hasOwnProperty,r=[].slice,y=/\.js$/,h=function(a,e){var t,s=c(a),i=s[0];return a=s[1],i&&(t=x(i=l(i,e))),i?a=t&&t.normalize?t.normalize(a,function(e){return function(a){return l(a,e)}}(e)):l(a,e):(i=(s=c(a=l(a,e)))[0],a=s[1],i&&(t=x(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:t}},f={require:function(a){return P(a)},exports:function(a){var e=m[a];return void 0!==e?e:m[a]={}},module:function(a){return{id:a,uri:"",exports:m[a],config:function(a){return function(){return g&&g.config&&g.config[a]||{}}}(a)}}},o=function(a,e,t,s){var i,o,n,r,l,c,d=[],u=typeof t;if(s=s||a,"undefined"==u||"function"==u){for(e=!e.length&&t.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(o=(r=h(e[l],s)).f))d[l]=f.require(a);else if("exports"===o)d[l]=f.exports(a),c=!0;else if("module"===o)i=d[l]=f.module(a);else if(w(m,o)||w(b,o)||w(v,o))d[l]=x(o);else{if(!r.p)throw new Error(a+" missing "+o);r.p.load(r.n,P(s,!0),C(o),{}),d[l]=m[o]}n=t?t.apply(m[a],d):void 0,a&&(i&&i.exports!==p&&i.exports!==m[a]?m[a]=i.exports:n===p&&c||(m[a]=n))}else a&&(m[a]=t)},e=t=n=function(a,e,t,s,i){if("string"==typeof a)return f[a]?f[a](e):x(h(a,e).f);if(!a.splice){if((g=a).deps&&n(g.deps,g.callback),!e)return;e.splice?(a=e,e=t,t=null):a=p}return e=e||function(){},"function"==typeof t&&(t=s,s=i),s?o(p,a,e,t):setTimeout(function(){o(p,a,e,t)},4),n},n.config=function(a){return n(a)},e._defined=m,(s=function(a,e,t){e.splice||(t=e,e=[]),w(m,a)||w(b,a)||(b[a]=[a,e,t])}).amd={jQuery:!0},s("almond",function(){}),s("visualcaptcha/core",[],function(){"use strict";var i,t,s,o,n,r,l,c;return i=function(a,e,t){return t=t||[],a.namespace&&0<a.namespace.length&&t.push(a.namespaceFieldName+"="+a.namespace),t.push(a.randomParam+"="+a.randomNonce),e+"&"+t.join("&")},t=function(e){var a,t=this;e.applyRandomNonce(),e.isLoading=!0,a=s(e),e._loading(t),e.callbacks.loading&&e.callbacks.loading(t),e.request(a,function(a){a.audioFieldName&&(e.audioFieldName=a.audioFieldName),a.imageFieldName&&(e.imageFieldName=a.imageFieldName),a.imageName&&(e.imageName=a.imageName),a.values&&(e.imageValues=a.values),e.isLoading=!1,e.hasLoaded=!0,e._loaded(t),e.callbacks.loaded&&e.callbacks.loaded(t)})},s=function(a){var e=a.url+a.routes.start+"&_img="+a.numberOfImages;return i(a,e)},o=function(a,e){var t="",s=[];return e<0||e>=a.numberOfImages?t:(this.isRetina()&&s.push("retina=1"),t=a.url+a.routes.image+"&_id="+e,i(a,t,s))},n=function(a,e){var t=a.url+a.routes.audio;return e&&(t+="/ogg"),i(a,t)},r=function(a,e){return 0<=e&&e<a.numberOfImages?a.imageValues[e]:""},l=function(){return void 0!==window.devicePixelRatio&&1<window.devicePixelRatio},c=function(){var a=!1;try{document.createElement("audio").canPlayType&&(a=!0)}catch(a){}return a},function(e){var a;return a={refresh:function(){return t.call(this,e)},isLoading:function(){return e.isLoading},hasLoaded:function(){return e.hasLoaded},numberOfImages:function(){return e.imageValues.length},imageName:function(){return e.imageName},imageValue:function(a){return r.call(this,e,a)},imageUrl:function(a){return o.call(this,e,a)},audioUrl:function(a){return n.call(this,e,a)},imageFieldName:function(){return e.imageFieldName},audioFieldName:function(){return e.audioFieldName},namespace:function(){return e.namespace},namespaceFieldName:function(){return e.namespaceFieldName},isRetina:l,supportsAudio:c},e.autoRefresh&&a.refresh(),a}}),s("visualcaptcha/xhr-request",[],function(){"use strict";var s=window.XMLHttpRequest;return function(a,e){var t=new s;t.open("GET",a,!0),t.onreadystatechange=function(){var a;4===t.readyState&&200===t.status&&(a=JSON.parse(t.responseText),e(a))},t.send()}}),s("visualcaptcha/config",["visualcaptcha/xhr-request"],function(s){"use strict";return function(a){var e=window.location.href.split("/");e[e.length-1]="";var t={request:s,url:e.join("/").slice(0,-1),namespace:"",namespaceFieldName:"namespace",routes:{start:"/start",image:"/image",audio:"/audio"},isLoading:!1,hasLoaded:!1,autoRefresh:!0,numberOfImages:6,randomNonce:"",randomParam:"r",audioFieldName:"",imageFieldName:"",imageName:"",imageValues:[],callbacks:{},_loading:function(){},_loaded:function(){},applyRandomNonce:function(){return t.randomNonce=Math.random().toString(36).substring(2)}};return a.request&&(t.request=a.request),a.url&&(t.url=a.url),a.namespace&&(t.namespace=a.namespace),a.namespaceFieldName&&(t.namespaceFieldName=a.namespaceFieldName),void 0!==a.autoRefresh&&(t.autoRefresh=a.autoRefresh),a.numberOfImages&&(t.numberOfImages=a.numberOfImages),a.routes&&(a.routes.start&&(t.routes.start=a.routes.start),a.routes.image&&(t.routes.image=a.routes.image),a.routes.audio&&(t.routes.audio=a.routes.audio)),a.randomParam&&(t.randomParam=a.randomParam),a.callbacks&&(a.callbacks.loading&&(t.callbacks.loading=a.callbacks.loading),a.callbacks.loaded&&(t.callbacks.loaded=a.callbacks.loaded)),a._loading&&(t._loading=a._loading),a._loaded&&(t._loaded=a._loaded),t}}),s("visualcaptcha",["require","visualcaptcha/core","visualcaptcha/config"],function(a){"use strict";var e=a("visualcaptcha/core"),t=a("visualcaptcha/config");return function(a){return e(t(a=a||{}))}}),s("visualcaptcha/templates",[],function(){"use strict";var r;return r=function(a,e){for(var t in e)a=a.replace(new RegExp("{"+t+"}","g"),e[t]);return a},{buttons:function(a,e,t){var s,i;return'<div class="visualCaptcha-accessibility-button"><a href="#"><img src="{path}accessibility{retinaExtra}.png" title="{accessibilityTitle}" alt="{accessibilityAlt}" /></a></div>','<div class="visualCaptcha-refresh-button"><a href="#"><img src="{path}refresh{retinaExtra}.png" title="{refreshTitle}" alt="{refreshAlt}" /></a></div>',s='<div class="visualCaptcha-button-group"><div class="visualCaptcha-refresh-button"><a href="#"><img src="{path}refresh{retinaExtra}.png" title="{refreshTitle}" alt="{refreshAlt}" /></a></div>'+(a.supportsAudio()?'<div class="visualCaptcha-accessibility-button"><a href="#"><img src="{path}accessibility{retinaExtra}.png" title="{accessibilityTitle}" alt="{accessibilityAlt}" /></a></div>':"")+"</div>",i={path:t||"",refreshTitle:e.refreshTitle,refreshAlt:e.refreshAlt,accessibilityTitle:e.accessibilityTitle,accessibilityAlt:e.accessibilityAlt,retinaExtra:a.isRetina()?"@2x":""},r(s,i)},accessibility:function(a,e){var t;return a.supportsAudio()?('<div class="visualCaptcha-accessibility-wrapper visualCaptcha-hide"><div class="accessibility-description">{accessibilityDescription}</div><audio preload="preload"><source src="{audioURL}" type="audio/ogg" /><source src="{audioURL}" type="audio/mpeg" /></audio></div>',t={accessibilityDescription:e.accessibilityDescription,audioURL:a.audioUrl(),audioFieldName:a.audioFieldName()},r('<div class="visualCaptcha-accessibility-wrapper visualCaptcha-hide"><div class="accessibility-description">{accessibilityDescription}</div><audio preload="preload"><source src="{audioURL}" type="audio/ogg" /><source src="{audioURL}" type="audio/mpeg" /></audio></div>',t)):""},images:function(a,e){for(var t,s,i="",o=0,n=a.numberOfImages();o<n;o++)t='<div class="img"><a href="#"><img src="{imageUrl}" id="visualCaptcha-img-{i}" data-index="{i}" alt="" title="" /></a></div>',s={imageUrl:a.imageUrl(o),i:o},i+=r(t,s);return t='<p class="visualCaptcha-explanation">{explanation}</p><div class="visualCaptcha-possibilities">{images}</div>',s={imageFieldName:a.imageFieldName(),explanation:e.explanation.replace(/ANSWER/,a.imageName()),images:i},r(t,s)},audioInput:function(a){var e;return'<input class="form-control audioField" type="text" name="{audioFieldName}" value="" autocomplete="off" />',e={audioFieldName:a.audioFieldName()},r('<input class="form-control audioField" type="text" name="{audioFieldName}" value="" autocomplete="off" />',e)},imageInput:function(a,e){var t;return'<input class="form-control imageField" type="hidden" name="{imageFieldName}" value="{value}" readonly="readonly" />',t={imageFieldName:a.imageFieldName(),value:a.imageValue(e)},r('<input class="form-control imageField" type="hidden" name="{imageFieldName}" value="{value}" readonly="readonly" />',t)},namespaceInput:function(a){var e,t=a.namespace();return t&&0!==t.length?('<input type="hidden" name="{fieldName}" value="{value}" />',e={fieldName:a.namespaceFieldName(),value:t},r('<input type="hidden" name="{fieldName}" value="{value}" />',e)):""}}}),s("visualcaptcha/language",[],function(){"use strict";return{accessibilityAlt:"Sound icon",accessibilityTitle:"Accessibility option: listen to a question and answer it!",accessibilityDescription:"Type below the <strong>answer</strong> to what you hear. Numbers or words:",explanation:"Click or touch the <strong>ANSWER</strong>",refreshAlt:"Refresh/reload icon",refreshTitle:"Refresh/reload: get new images and accessibility option!"}}),s("visualcaptcha.jquery",["jquery","visualcaptcha","visualcaptcha/templates","visualcaptcha/language"],function(l,i,c,e){"use strict";var t,o,n,r,d,u,p;t=function(a,e){l.get(a,e,"json")},o=function(){},n=function(a,e,t){var s;s=c.namespaceInput(t)+c.accessibility(t,a.language)+c.images(t,a.language)+c.buttons(t,a.language,a.imgPath),e.html(s)},r=function(a){var e,t=l(this).closest(".visualCaptcha"),s=t.find(".visualCaptcha-accessibility-wrapper"),i=t.find(".visualCaptcha-possibilities"),o=t.find(".visualCaptcha-explanation"),n=s.find("audio");s.hasClass("visualCaptcha-hide")?(i.toggleClass("visualCaptcha-hide"),o.toggleClass("visualCaptcha-hide"),i.find(".img").removeClass("visualCaptcha-selected"),o.find("input").val(""),e=c.audioInput(t.data("captcha")),l(e).insertBefore(n),s.toggleClass("visualCaptcha-hide"),n[0].load(),n[0].play()):(n[0].pause(),s.toggleClass("visualCaptcha-hide"),s.find("input").remove(),o.toggleClass("visualCaptcha-hide"),i.toggleClass("visualCaptcha-hide")),a.preventDefault()},d=function(a){var e,t,s,i=l(this),o=i.closest(".visualCaptcha"),n=o.find(".visualCaptcha-possibilities"),r=o.find(".visualCaptcha-explanation");(t=r.find("input"))&&(t.remove(),n.find("a").removeClass("visualCaptcha-selected")),i.addClass("visualCaptcha-selected"),e=i.find("img").data("index"),s=c.imageInput(o.data("captcha"),e),r.append(l(s)),a.preventDefault()},u=function(a){l(this).closest(".visualCaptcha").data("captcha").refresh(),a.preventDefault()},p=function(a){var e=a.find(".imageField"),t=a.find(".audioField"),s=!(!e.val()&&!t.val());return s?{valid:s,name:e.val()?e.attr("name"):t.attr("name"),value:e.val()?e.val():t.val()}:{valid:s}},l.fn.visualCaptcha=function(a){var s;return s=l.extend({imgPath:"/",language:e,captcha:{request:t}},a),this.addClass("visualCaptcha").on("click",".visualCaptcha-accessibility-button",r).on("click",".visualCaptcha-refresh-button",u).on("click",".visualCaptcha-possibilities a",d),this.each(function(){var a,e,t=l(this);e=l.extend(s.captcha,{_loading:o.bind(null,s,t),_loaded:n.bind(null,s,t)}),void 0!==t.data("namespace")&&(e.namespace=t.data("namespace")),(a=i(e)).getCaptchaData=p.bind(null,t),t.data("captcha",a)})}}),s("jquery",function(){return a}),t("visualcaptcha.jquery")}),function(i){"use strict";var o=function(a,e){this.$element=i(a),this.options=i.extend({},o.defaults,e)};o.defaults={transition_delay:300,refresh_speed:50,display_text:"none",use_percentage:!0,percent_format:function(a){return a+"%"},amount_format:function(a,e,t){return a+" / "+e},update:i.noop,done:i.noop,fail:i.noop},o.prototype.transition=function(){var n=this.$element,r=n.parent(),l=this.$back_text,c=this.$front_text,d=this.options,u=parseInt(n.attr("data-transitiongoal")),p=parseInt(n.attr("aria-valuemin"))||0,h=parseInt(n.attr("aria-valuemax"))||100,f=r.hasClass("vertical"),m=d.update&&"function"==typeof d.update?d.update:Progressbar.defaults.update,b=d.done&&"function"==typeof d.done?d.done:Progressbar.defaults.done,a=d.fail&&"function"==typeof d.fail?d.fail:Progressbar.defaults.fail;if(isNaN(u))a("data-transitiongoal not set");else{var e,g=Math.round(100*(u-p)/(h-p));if("center"===d.display_text&&!l&&!c)this.$back_text=l=i("<span>").addClass("progressbar-back-text").prependTo(r),this.$front_text=c=i("<span>").addClass("progressbar-front-text").prependTo(n),f?(e=r.css("height"),l.css({height:e,"line-height":e}),c.css({height:e,"line-height":e}),i(window).resize(function(){e=r.css("height"),l.css({height:e,"line-height":e}),c.css({height:e,"line-height":e})})):(e=r.css("width"),c.css({width:e}),i(window).resize(function(){e=r.css("width"),c.css({width:e})}));setTimeout(function(){var a,e,t,s,i;f?n.css("height",g+"%"):n.css("width",g+"%");var o=setInterval(function(){s=f?(t=n.height(),r.height()):(t=n.width(),r.width()),a=Math.round(100*t/s),e=Math.round(p+t/s*(h-p)),g<=a&&(a=g,e=u,b(n),clearInterval(o)),"none"!==d.display_text&&(i=d.use_percentage?d.percent_format(a):d.amount_format(e,h,p),"fill"===d.display_text?n.text(i):"center"===d.display_text&&(l.text(i),c.text(i))),n.attr("aria-valuenow",e),m(a,n)},d.refresh_speed)},d.transition_delay)}};var a=i.fn.yopprogressbar;i.fn.yopprogressbar=function(s){return this.each(function(){var a=i(this),e=a.data("bs.progressbar"),t="object"==typeof s&&s;e&&t&&i.extend(e.options,t),e||a.data("bs.progressbar",e=new o(this,t)),e.transition()})},i.fn.yopprogressbar.Constructor=o,i.fn.yopprogressbar.noConflict=function(){return i.fn.yopprogressbar=a,this}}(window.jQuery);var YOPPollBasicScrollToMessage,YOPPollSendBasicVoteWithReCaptchaV2Invisible,YOPPollReCaptchaElements=[],YOPPollHCaptchaElements=[],YOPPollOnLoadRecaptcha=function(){jQuery('.basic-yop-poll-container[data-load-with="1"]').each(function(){var e=jQuery(this);switch(jQuery(this).attr("data-cap")){case"2":YOPPollReCaptchaElements[jQuery(this).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptcha.siteKey,theme:"light"});break;case"3":YOPPollReCaptchaElements[jQuery(this).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptchaV2Invisible.siteKey,theme:"light",size:"invisible",callback:function(a){YOPPollSendBasicVoteWithReCaptchaV2Invisible(e,a)}})}})},YOPPollOnLoadHCaptcha=function(){jQuery('.basic-yop-poll-container[data-load-with="1"]').each(function(){jQuery(this);switch(jQuery(this).attr("data-cap")){case"5":YOPPollHCaptchaElements[jQuery(this).attr("data-uid")]=hcaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.hCaptcha.siteKey})}})};jQuery(document).ready(function(y){var a,n,s,r,l,c,d,u,p,h,f,m,b,t,e,g,v,o,w,P,C={accessibilityAlt:objectL10n.yopPollParams.captchaParams.accessibilityAlt,accessibilityTitle:objectL10n.yopPollParams.captchaParams.accessibilityTitle,accessibilityDescription:objectL10n.yopPollParams.captchaParams.accessibilityDescription,explanation:objectL10n.yopPollParams.captchaParams.explanation,refreshAlt:objectL10n.yopPollParams.captchaParams.refreshAlt,refreshTitle:objectL10n.yopPollParams.captchaParams.refreshTitle},x=[],k=[[]];YOPPollBasicIsFacebookBrowser=function(){var a=navigator.userAgent||navigator.vendor||window.opera;return-1<a.indexOf("FBAN")||-1<a.indexOf("FBAV")},YOPPollBasicScrollToMessage=function(a){y("html, body").animate({scrollTop:y(y(a).closest(".bootstrap-yop")).position().top-35},1500,"linear")},YOPPollBasicGetPollCookieData=function(a){var e,t,s,i=localStorage.getItem("ypdata"),o="";if(null!==i)for(e=i.split("#"),s=0;s<e.length;s++)(t=e[s].split("|"))[0]===a&&(o=t[1],s=e.length);return o},YOPPollBasicGetCookieData=function(){var a,e,t,s=localStorage.getItem("ypdata"),i=[];if(null!==s)for(a=s.split("#"),t=0;t<a.length;t++)e=a[t].split("|"),i.push(e);return i},YOPPollBasicSetCookieData=function(a,e){var t=getCookieData(),s="",o=!0;if(0===t.length)s=a+"|"+e;else{for(i=0;i<t.length;i++)a===t[i][0]?(s+=a+"|"+e,o=!1):s+=t[i][0]+"|"+t[i][1],i<t.length-1&&(s+="#");!0===o&&(s+="#"+a+"|"+e)}localStorage.setItem("ypdata",s)},a=function(a,e){y('.basic-yop-poll-container[data-id="'+a+'"]').find('input[name="_token"]').val(e)},n=function(e,t){y.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_is_user_logged_in"}}).done(function(a){if(!0===a.success)switch(1,t){case"vote":f(e,"wordpress");break;case"show-results":l(e)}else 0,"vote"===t&&y(".basic-vote").popupWindow({windowURL:"http://yahoo.com",windowName:"YOPPollW",height:500,width:450,centerScreen:1})})},g=function(a,e,t){switch(e){case"asc":e="ASC";break;case"desc":e="DESC";break;default:e="ASC"}switch(t){case"alphabetical":resultsSorted=helper.arr.multisort(a,["text"],[e]);break;case"number-of-votes":resultsSorted=helper.arr.multisort(a,["votes"],[e]);break;default:resultsSorted=a}return a},s=function(a,n){var r=[],l=y(a).attr("data-sort-results-by"),c=y(a).attr("data-sort-results-rule");return y(a).find(".basic-question").each(function(){var a,e,t,s={},i=y(this).attr("data-display-others"),o=[];if(s.id=y(this).attr("data-id"),s.type=y(this).attr("data-question-type"),s.text=y(this).find(".basic-question-title").text(),s.answers=[],y(this).find(".basic-answers").find(".basic-answer").not(".basic-other-answer").each(function(){var a=[];switch(a.id=y(this).attr("data-id"),a.type=y(this).attr("data-type"),a.type){case"text":a.text=y(this).find(".basic-text").html()}a.color=y(this).attr("data-color"),a.votes=y(this).attr("data-vn"),a.makeLink=y(this).attr("data-make-link"),a.link=y(this).attr("data-link"),s.answers.push(a)}),!0===n&&"yes"===i&&(a=y(this).attr("data-others"),otherAnswersColorForResults=y(this).attr("data-others-color"),""!==a))for(e=JSON.parse(a),t=0;t<e.length;t++)o.id=0,o.type="text",o.text=e[t].an,o.color=otherAnswersColorForResults,o.votes=e[t].vn,s.answers.push(o),o=[];s.answers=g(s.answers,c,l),r.push(s)}),r},r=function(a,e){var t=s(a,e);c(a,t)},l=function(f){var m=y(f).attr("data-uid"),b=y(f).attr("data-show-results-as"),g=y(f).attr("data-sort-results-by"),v=y(f).attr("data-sort-results-rule");k[m]=[],y(f).find(".basic-question").each(function(){var a,t,e,s,i=y(this).attr("data-uid"),o=y(this).attr("data-question-type"),n=[],r=[],l=[],c=[],d=[],u=[],p=0,h=0;switch(o){case"text":t=y(this).find("li.basic-answer .basic-text").first().css(["color","font-size","font-weight"])}switch(y(this).find('.basic-answer:not(".basic-other-answer")').each(function(a){var e={};e.id=y(this).attr("data-id"),e.label="text"===o?y(this).find(".basic-text").text():"pie"===b?y(this).find(".basic-media-text").text():y(this).find(".basic-media-content").html(),e.backgroundColor=y(this).attr("data-color"),e.votes=parseInt(y(this).attr("data-vn"),10),n.push(e),p+=e.votes}),v){case"asc":v="ASC";break;case"desc":v="DESC";break;default:v="ASC"}switch(g){case"alphabetical":u=helper.arr.multisort(n,["label"],[v]);break;case"number-of-votes":u=helper.arr.multisort(n,["votes"],[v]);break;default:u=n}for(h=0;h<u.length;h++)answerLabel="",answerResultsPercentages=[],answerResultsVotes=[],answerResultsPercentages=YOPPollBasicIsResultsShowPercentages(f,u[h].votes,p),answerResultsVotes=YOPPollBasicIsResultsShowVotes(f,u[h].votes),answerLabel=u[h].label,!0===answerResultsPercentages.show&&(answerLabel=u[h].label+" "+answerResultsPercentages.content),!0===answerResultsVotes.show&&(answerLabel+=" "+answerResultsVotes.content),r.push(u[h].id),l.push(answerLabel),d.push(u[h].votes),c.push(u[h].backgroundColor);switch(s={labels:l,datasets:[{data:d,backgroundColor:c}]},b){case"bar":y(this).find('.basic-answer:not(".basic-other-answer")').each(function(a){var e=parseInt(y(this).attr("data-vn"),10);answerResultsPercentages=YOPPollBasicIsResultsShowPercentages(f,e,p),answerResultsVotes=YOPPollBasicIsResultsShowVotes(f,e),!0===answerResultsPercentages.show&&y(this).find(".basic-answer-label").append('<span class="basic-answer-results-details" style="color:'+t.color+"; font-size:"+t["font-size"]+"; font-weight:"+t["font-weight"]+';">'+answerResultsPercentages.content+"</span>"),!0===answerResultsVotes.show&&y(this).find(".basic-answer-label").append('<span class="basic-answer-total-votes" style="color:'+t.color+"; font-size:"+t["font-size"]+"; font-weight:"+t["font-weight"]+';">'+answerResultsVotes.content+"</span>"),0<e&&y(this).append('<div class="progress" style=""><div class="progress-bar six-sec-ease-in-out" role="progressbar" data-transitiongoal="'+e+'" aria-valuemax="'+p+'" style="background-image:none; background-color: '+y(this).attr("data-color")+';"></div></div>')}),y(this).find(".progress .progress-bar").yopprogressbar();break;case"pie":y(this).find(".basic-question-title").after('<div class="basic-chart-container" style="position: relative; height:100%; width:100%"><canvas id="question-results-'+i+'"></canvas></div>'),a=y(this).find("#question-results-"+i),e=new Chart(a,{type:"pie",data:s,options:{animateScale:!0,responsive:!0,maintainAspectRatio:!0,legend:{position:"bottom"},tooltips:{enabled:!1},plugins:{datalabels:{padding:10,color:t.color,align:"center",anchor:"center",formatter:function(a,e){var t,s,i=0,o="";return e.chart.data.datasets[0].data.map(function(a){i+=parseInt(a,10)}),t=YOPPollBasicIsResultsShowPercentages(f,a,i),s=YOPPollBasicIsResultsShowVotes(f,a),!0===t.show&&(o=t.content),!0===s.show&&(o+=s.content),o}}}}}),k[m].push(e)}})},c=function(a,e){var t,s=y(a).attr("data-uid"),i=y(a).attr("data-show-message"),o=y(a).attr("data-is-ended"),n=y(a).find(".basic-message").attr("data-success"),r=y(a).find(".basic-message-text").text(),l=0;for(k[s]=[],"0"===o&&"true"===i&&(y(a).find(".basic-message").addClass("basic-success").removeClass("hide").css("borderLeftColor",n),""!==r&&r===objectL10n.yopPollParams.voteParams.thankYou||y(a).find(".basic-message-text").text(objectL10n.yopPollParams.voteParams.thankYou)),y(a).find('.basic-element[data-type!="question"]').hide(),y(a).find(".basic-answers").hide(),y(a).find(".basic-captcha").hide(),y(a).find(".basic-vote-button").hide(),y(a).find(".basic-results-button").hide(),y(a).find(".basic-back-to-vote-button").show(),y(a).find(".basic-stats").show(),l=0;l<e.length;l++)switch(t=y(a).find('.basic-question[data-id="'+e[l].id+'"]').attr("data-display"),e[l].type){case"text":default:YopPollBasicShowResultsForTextQuestion(a,e[l],t)}},YOPPollBasicIsResultsShowPercentages=function(a,e,t){var s=[];return-1!==y(a).attr("data-resdet").indexOf("percentages")?(s.show=!0,s.content=0<t?100*e/t:0,s.content===Math.round(s.content)?s.content=Math.round(s.content)+"%":s.content=Number(Math.round(s.content+"e2")+"e-2").toFixed(2)+"%"):(s.show=!1,s.content=""),s},YOPPollBasicIsResultsShowVotes=function(a,e){var t=[];return-1!==y(a).attr("data-resdet").indexOf("votes-number")?(t.show=!0,votesText=1===parseInt(e,10)?objectL10n.yopPollParams.resultsParams.singleVote:objectL10n.yopPollParams.resultsParams.multipleVotes,t.content=" ("+e+" "+votesText+")"):(t.show=!1,t.content=""),t},YOPPollBasicGetClassForColumns=function(a){var e="";switch(String(a)){case"2":e="col-xs-6 col-sm-6 col-md-6";break;case"3":e="col-xs-6 col-sm-6 col-md-4";break;case"4":e="col-xs-6 col-sm-6 col-md-3";break;case"5":e="col-xs-6 col-sm-6 cols-5";break;case"6":e="col-xs-6 col-sm-6 col-md-2";break;case"7":e="col-xs-6 col-sm-6 cols-7";break;case"8":e="col-xs-6 col-sm-6 cols-8";break;case"9":e="col-xs-6 col-sm-6 cols-9";break;case"10":e="col-xs-6 col-sm-6 cols-10";break;case"11":e="col-xs-6 col-sm-6 cols-11";break;case"12":e="col-xs-6 col-sm-6 col-md-1"}return e},YopPollBasicShowResultsForTextQuestion=function(a,e,t){y(a).attr("data-uid");var s,i,o,n=y(a).attr("data-show-results-as"),r=y(a).find('.basic-question[data-id="'+e.id+'"]').attr("data-colnum"),l=y(a).find('.basic-question[data-id="'+e.id+'"]').find("li.basic-answer").first().css(["padding-top","padding-left"]),c=y(a).find('.basic-question[data-id="'+e.id+'"]').find("li.basic-answer .basic-text").first().css(["color","font-size","font-weight"]),d=0,u=0;for(u=0;u<e.answers.length;u++)d+=parseInt(e.answers[u].votes,10);switch(t){case"horizontal":ulClass=" basic-h-answers",liClass=" "+YOPPollBasicGetClassForColumns(e.answers.length),divClass=" basic-text-horizontal";break;case"columns":ulClass=" basic-h-answers basic-cols-display",liClass=" "+YOPPollBasicGetClassForColumns(r),divClass=" basic-text-horizontal";break;default:ulClass="",liClass="",divClass=" basic-text-vertical"}switch(n){case"bar":for(s='<ul class="basic-answers-results basic-answers'+ulClass+'">',u=0;u<e.answers.length;u++)answerText="yes"===e.answers[u].makeLink&&""!==e.answers[u].link?'<a href="'+e.answers[u].link+'" target="_blank">'+e.answers[u].text+"</a>":e.answers[u].text,i=YOPPollBasicIsResultsShowPercentages(a,e.answers[u].votes,d),o=YOPPollBasicIsResultsShowVotes(a,e.answers[u].votes),s+='<li class="basic-answer'+liClass+'" style="padding:'+l["padding-top"]+" "+l["padding-top"]+';" data-id="'+e.answers[u].id+'" data-type="text" data-vn="'+e.answers[u].votes+'" data-color="'+e.answers[u].color+'"><div class="basic-answer-content'+divClass+'"><span class="basic-text" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+answerText+"</span>",!0===i.show&&(s+='<span class="basic-answer-results-details" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+i.content+"</span>"),!0===o.show&&(s+='<span class="basic-answer-total-votes" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+o.content+"</span>"),s+="</div>",0<e.answers[u].votes&&(s+='<div class="progress" style=""><div class="progress-bar six-sec-ease-in-out" role="progressbar" data-transitiongoal="'+e.answers[u].votes+'" aria-valuemax="'+d+'" style="background-image:none; background-color: '+e.answers[u].color+';"></div></div>'),s+="</li>";s+="</ul>",y(a).find('.basic-question[data-id="'+e.id+'"]').append(s),y(a).find(".progress .progress-bar").yopprogressbar()}},d=function(a,e){var t=0;for(t=0;t<e.length;t++)y(a).find('.basic-question[data-id="'+e[t].id+'"]').replaceWith(e[t].code)},u=function(a,e){var t=0,s=0;for(t=0;t<e.length;t++)for(s=0;s<e[t].answers.length;s++)y(a).find('.basic-question[data-id="'+e[t].id+'"]').find('.basic-answer[data-id="'+e[t].answers[s].id+'"]').attr("data-vn",e[t].answers[s].votes)},p=function(a){var e=y(a).attr("data-uid");if(void 0!==k[e])for(i=1;i<k[e].length;i++)k[e][i].destroy(),k[e].splice(i,1);y(a).find(".basic-answers-results").remove(),y(a).find(".basic-chart-container").remove()},v=function(a,e){var t=JSON.parse(e),s=0;for(s=0;s<t.length;s++)y(a).find('.basic-element[data-id="'+t[s].id+'"]').attr("data-others",t[s].others)},h=function(a,e,t,s){var i,o,n=0,r=[];if(y(a).find(".basic-element").each(function(){var a=y(this).attr("data-type"),e=y(this).attr("data-id"),t=[];switch(a){case"question":y(this).find('input[name="answer['+e+']"][value!="0"]:checked').each(function(){t.push({id:y(this).val(),data:!0})}),1===y(this).find('input[name="answer['+e+']"][value="0"]:checked').length&&t.push({id:0,data:y(this).find('input[name="other['+e+']"]').val()}),r[n]={id:e,type:"question",data:t},n++;break;case"custom-field":r[n]={id:e,type:"custom-field",data:y(this).find('.basic-input-text[name="cfield['+e+']"]').val()},n++}}),"2"===y(a).attr("data-cap"))i=grecaptcha.getResponse(YOPPollReCaptchaElements[y(a).attr("data-uid")]);else switch(y(a).attr("data-cap")){case"3":i=y(a).attr("data-v2-token");break;case"4":i=y(a).attr("data-recaptchav3-token");break;case"5":i=hcaptcha.getResponse(YOPPollHCaptchaElements[y(a).attr("data-uid")]);break;default:i=""}return o="yes"===y(a).attr("data-gdpr")&&"consent"===y(a).attr("data-gdpr-sol")?y(a).find(".input-consent").val():"",{pollId:y(a).attr("data-id"),pollUid:y(a).attr("data-uid"),pageId:y(a).attr("data-pid"),imageCaptcha:y(a).find(".imageField").val(),audioCaptcha:y(a).find(".audioField").val(),reCaptcha:i,trackingId:y(a).attr("data-tid"),gdprConsent:o,data:r,user:{id:s.id,first_name:s.firstName,last_name:s.lastName,email:s.email,type:e,f_data:t}}},f=function(e,a,t){var s,i=y(e).find(".basic-message").attr("data-success"),o=y(e).find(".basic-message").attr("data-error"),n=y(e).attr("data-notification-section");return s=h(e,a,"",t),y.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_record_vote",_token:y(e).find('input[name="_token"]').val(),data:JSON.stringify(s)}}).done(function(a){y(e).find(".basic-message").removeClass("show").addClass("hide"),y(e).find(".basic-overlay").addClass("hide"),y(e).find(".basic-gdpr").hide(),y(e).find(".basic-captcha").hide(),!0===a.success?(response=a.data,p(e),""!==response.total_votes&&y(e).find(".basic-stats-votes-number").text(response.total_votes),""!==response.total_answers&&y(e).find(".basic-stats-answers-number").text(response.total_answers),!0===response.rebuild&&d(e,JSON.parse(response.elements)),""!==response.others&&v(e,response.others),!0===response.show_results?(u(e,JSON.parse(response.results)),c(e,JSON.parse(response.results))):(y(e).find(".basic-message").addClass("basic-success").removeClass("hide").css("borderLeftColor",i),y(e).find(".basic-gdpr").show(),y(e).find(".basic-captcha").show(),y(e).find(".basic-message-text").text(objectL10n.yopPollParams.voteParams.thankYou),"2"!==y(e).attr("data-cap")&&"3"!==y(e).attr("data-cap")||grecaptcha.reset(YOPPollReCaptchaElements[y(e).attr("data-uid")]),"top"===n&&YOPPollBasicScrollToMessage(e)),"yes"===response.redirect&&window.setTimeout(function(){window.location.href=response.redirect_to},1e3*response.redirect_after)):(y(e).find(".basic-message").addClass("basic-error").removeClass("hide").css("borderLeftColor",o),y(e).find(".basic-gdpr").show(),y(e).find(".basic-captcha").show(),"2"!==y(e).attr("data-cap")&&"3"!==y(e).attr("data-cap")||grecaptcha.reset(YOPPollReCaptchaElements[y(e).attr("data-uid")]),y(e).find(".basic-message-text").text(a.data),"top"===n&&YOPPollBasicScrollToMessage(e))}).fail(function(a,e){}),1},YOPPollSendBasicVoteWithReCaptchaV2Invisible=function(a,e){var t=y(a).attr("data-access").split(","),s=[];switch(y(a).attr("data-v2-token",e),1===t.length?t[0]:y(a).attr("data-voter")){case"guest":s.id="",s.firstName="",s.lastName="",s.email="",f(a,"anonymous",s);break;case"wordpress":m(a)}},m=function(e){var t=[];y.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",async:!1,data:{action:"yop_poll_is_user_logged_in"},success:function(a){!0===a.success?(t.id="",t.firstName="",t.lastName="",t.email="",f(e,"wordpress",t)):y(e).find(".yop-poll-modal").addClass("active")}})},o=function(a){var e=y(a).closest(".yop-poll-mc"),t=y(a).attr("data-id"),s=y(a).attr("data-tid"),i=y(a).attr("data-pid"),o=y(a).attr("data-show-results-only");y.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_get_poll_for_frontend",poll_id:t,tracking_id:s,page_id:i,show_results:"true"===o?"1":"0"}}).done(function(a){!0===a.success&&(y(e).html(a.data),w(y(e).find(".basic-yop-poll-container")))})},YopPollBasicLoadBuiltInCaptcha=function(a){x[y(a).attr("data-uid")]=y("#yop-poll-captcha-"+y(a).attr("data-uid")).visualCaptcha({imgPath:objectL10n.yopPollParams.captchaParams.imgPath,captcha:{url:objectL10n.yopPollParams.captchaParams.url,numberOfImages:5,namespace:"yop-poll-captcha-"+y(a).attr("data-uid"),routes:{start:"?_a=start",image:"?_a=image",audio:"?_a=audio"},callbacks:{loading:function(a){},loaded:function(a){}}},language:C})},P=function(a){YOPPollBasicLoadReCaptchaV2Interval=setInterval(function(){"function"==typeof grecaptcha.render&&(YOPPollReCaptchaElements[y(a).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+y(a).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptcha.siteKey,theme:"light"}),clearInterval(YOPPollBasicLoadReCaptchaV2Interval))},1e3)},YOPPollBasicLoadReCaptchaV2Invisible=function(e){var a;a=setInterval(function(){"function"==typeof grecaptcha.render&&(YOPPollReCaptchaElements[y(e).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+y(e).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptchaV2Invisible.siteKey,theme:"light",size:"invisible",callback:function(a){YOPPollSendBasicVoteWithReCaptchaV2Invisible(e,a)}}),clearInterval(a))},1e3)},YOPPollBasicLoadHCaptcha=function(a){YOPPollBasicLoadHCaptchaInterval=setInterval(function(){"function"==typeof hcaptcha.render&&(YOPPollHCaptchaElements[y(a).attr("data-uid")]=hcaptcha.render("yop-poll-captcha-"+y(a).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.hCaptcha.siteKey}),clearInterval(YOPPollBasicLoadHCaptchaInterval))},1e3)},w=function(a){var e=y(a).attr("data-show-results-moment"),t=y(a).attr("data-show-results-only"),s=y(a).attr("data-uid"),i=y(a).attr("data-css"),o=y(a).attr("data-load-with");switch(y(a).attr("data-cap")){case"1":YopPollBasicLoadBuiltInCaptcha(a);break;case"2":"2"===o&&P(a);break;case"3":"2"===o&&YOPPollBasicLoadReCaptchaV2Invisible(a);break;case"5":"2"===o&&YOPPollBasicLoadHCaptcha(a)}void 0!==t&&"true"===t?(p(y(a)),y(a).find(".basic-element").each(function(){"question"===y(this).attr("data-type")?(y(this).find('input[type="radio"]').hide(),y(this).find('input[type="checkbox"]').hide(),y(this).find(".basic-other-answer").hide()):y(this).hide()}),y(a).find(".basic-gdpr").hide(),y(a).find(".visualCaptcha").hide(),y(a).find(".basic-vote-button").hide(),y(a).find(".basic-results-button").hide(),r(y(a),!1),y(a).find(".basic-back-to-vote-button").hide()):void 0!==e&&-1!==e.indexOf("before-vote")&&("registered"===y(a).attr("data-show-results-to")?n(y(a),"show-results"):l(y(a))),""!==i&&y("head").append('<style type="text/css" id="yop-poll-custom-css-'+s+'">'+i.split("data-uid").join('data-uid="'+s+'"')+"</style>")},y(".yop-poll-container").each(function(){var a=y(this);"1"===y(this).attr("data-ajax")&&o(a)}),y(".basic-yop-poll-container").each(function(){var a=y(this);w(a)}),y("body").on("focus",'.yop-poll-mc input[type="text"][data-type="other-answer"]',function(a){var e=y(this).closest(".basic-question").attr("data-id");y('.basic-yop-poll-container input[name="answer['+e+']"][value="0"]').prop("checked",!0)}),y(".yop-poll-mc").on("blur",'input[type="text"][data-type="other-answer"]',function(){""!==y(this).val().trim()&&y(this).parent(".basic-text").removeClass("has-error")}),y(".yop-poll-mc").on("blur",'input[type="text"][data-type="cfield"]',function(){""!==y(this).val().trim()&&y(this).parent(".basic-custom-field").removeClass("has-error")}),y("body").on("click",".yop-poll-mc .basic-vote-button",function(a){var t,e,s,i,o,n,r,l,c,d=[],u=!1;if(t=y(this).closest(".basic-yop-poll-container"),e=y(t).attr("data-id"),s=y(t).attr("data-uid"),l=y(t).find(".basic-message").attr("data-error"),c=y(t).attr("data-notification-section"),""!==e){if(i=y(t).attr("data-access").split(","),y(t).find(".basic-element").each(function(){var a=y(this).attr("data-type"),e=y(this).attr("data-id");switch(a){case"question":o=y(this).attr("data-allow-multiple"),n=y(this).attr("data-min"),r=y(this).attr("data-max"),!1===u&&0===y(this).find('input[name="answer['+e+']"]:checked').length&&(y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noAnswersSelected),y(t).find(".basic-message").addClass("show basic-error"),y(t).find(".basic-message").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t)),!1===u&&"yes"===o&&n>y(this).find('input[name="answer['+e+']"]:checked').length&&(y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.minAnswersRequired.replace("{min_answers_allowed}",n)),y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t)),!1===u&&"yes"===o&&r<y(this).find('input[name="answer['+e+']"]:checked').length&&(y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.maxAnswersRequired.replace("{max_answers_allowed}",r)),y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t)),!1===u&&1===y(this).find('input[name="answer['+e+']"][value="0"]:checked').length&&""===y(this).find('input[name="other['+e+']"]').val().trim()&&(y(this).find('input[name="other['+e+']"]').focus(),y(this).find('input[name="other['+e+']"]').closest(".basic-text").addClass("has-error"),y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noAnswerForOther),y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t));break;case"custom-field":!1===u&&"yes"===y(this).attr("data-required")&&""===y(this).find('.basic-input-text[name="cfield['+e+']"]').val().trim()&&(y(this).addClass("has-error"),y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noValueForCustomField.replace("{custom_field_name}",y(this).find("label").text())),y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t))}}),!1===u&&"yes"===y(t).attr("data-gdpr")&&"consent"===y(t).attr("data-gdpr-sol")&&!1===y(t).find(".input-consent").is(":checked")&&(y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.consentNotChecked),y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t)),!1===u&&"1"===y(t).attr("data-cap")&&!1===x[s].data("captcha").getCaptchaData().valid&&(y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noCaptchaSelected),y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),u=!0,"top"===c&&YOPPollBasicScrollToMessage(t)),!1===u)if(y(t).find(".basic-message").addClass("hide"),y(t).find(".basic-overlay").removeClass("hide"),1===i.length)switch(i[0]){case"guest":if(""!==y(t).attr("data-cap")&&-1!==y.inArray(y(t).attr("data-cap"),["3","4"]))switch(y(t).attr("data-cap")){case"3":grecaptcha.execute(YOPPollReCaptchaElements[s]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){y(t).attr("data-reCaptchaV3-token",a),b(t),d.id="",d.firstName="",d.lastName="",d.email="",f(t,"anonymous",d)})})}else b(t),d.id="",d.firstName="",d.lastName="",d.email="",f(t,"anonymous",d);break;case"wordpress":if(""!==y(t).attr("data-cap")&&-1!==y.inArray(y(t).attr("data-cap"),["3","4"]))switch(y(t).attr("data-cap")){case"3":grecaptcha.execute(YOPPollReCaptchaElements[s]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){y(t).attr("data-reCaptchaV3-token",a),b(t),m(t)})})}else b(t),m(t)}else y(t).find(".basic-preloader").addClass("hide"),y(t).find(".basic-vote-options").removeClass("hide")}else y(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",l),y(t).find(".basic-overlay").addClass("hide"),y(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.invalidPoll);a.preventDefault()}),y("body").on("click",".yop-poll-mc .basic-anonymous",function(a){var e=y(this).closest(".basic-yop-poll-container"),t=y(e).attr("data-uid");if(userProfile=[],b(e),""!==y(e).attr("data-cap")&&-1!==y.inArray(y(e).attr("data-cap"),["3","4"]))switch(y(e).attr("data-cap")){case"3":y(e).attr("data-voter","guest"),grecaptcha.execute(YOPPollReCaptchaElements[t]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){y(e).attr("data-reCaptchaV3-token",a),userProfile.id="",userProfile.firstName="",userProfile.lastName="",userProfile.email="",f(e,"anonymous",userProfile)})})}else userProfile.id="",userProfile.firstName="",userProfile.lastName="",userProfile.email="",f(e,"anonymous",userProfile),a.preventDefault()}),y("body").on("click",".yop-poll-mc .basic-wordpress .basic-wordpress-button",function(a){var e=y(this).closest(".basic-yop-poll-container"),t=y(e).attr("data-uid");if(b(e),""!==y(e).attr("data-cap")&&-1!==y.inArray(y(e).attr("data-cap"),["3","4"]))switch(y(e).attr("data-cap")){case"3":y(e).attr("data-voter","wordpress"),grecaptcha.execute(YOPPollReCaptchaElements[t]);break;case"4":grecaptcha.ready(function(){grecaptcha.execute(objectL10n.yopPollParams.apiParams.reCaptchaV3.siteKey,{action:"submit"}).then(function(a){y(e).attr("data-reCaptchaV3-token",a),m(e)})})}else m(e);a.preventDefault()}),y("body").on("click",".yop-poll-mc .basic-results-button",function(a){var e=y(this).closest(".basic-yop-poll-container");p(e),y(e).find(".basic-gdpr").hide(),y(e).find(".basic-captcha").hide(),y(e).find(".basic-stats").hide(),y(e).find(".basic-vote-button").hide(),y(e).find(".basic-results-button").hide(),y(e).find(".basic-back-to-vote-button").show(),r(e,!0),y(e).find(".basic-message").addClass("hide"),a.preventDefault()}),y("body").on("click",".yop-poll-mc .basic-back-to-vote-button",function(a){var e=y(this).closest(".basic-yop-poll-container"),t=y(e).attr("data-show-results-moment");y(e).attr("data-temp");switch(p(e),y(e).find(".basic-element").each(function(){"question"===y(this).attr("data-type")?(y(this).find('input[type="radio"]').show(),y(this).find('input[type="checkbox"]').show(),y(this).find(".basic-answers").show(),y(this).find(".basic-other-answer").show()):y(this).show()}),y(e).find(".basic-message").addClass("hide"),y(e).find(".basic-gdpr").show(),y(e).find(".basic-captcha").show(),y(e).find(".basic-stats").show(),y(e).find(".basic-vote-button").show(),y(e).find(".basic-results-button").show(),y(e).find(".basic-back-to-vote-button").hide(),void 0!==t&&-1!==y(e).attr("data-show-results-moment").indexOf("before-vote")&&(y(e).find(".basic-answer-results-details").remove(),y(e).find(".basic-answer-total-votes").remove(),y(e).find(".progress").remove(),"registered"===y(e).attr("data-show-results-to")?n(y(e),"show-results"):l(e)),y(e).attr("data-cap")){case"2":case"3":grecaptcha.reset(YOPPollReCaptchaElements[y(e).attr("data-uid")]);break;case"5":hcaptcha.reset(YOPPollHCaptchaElements[y(e).attr("data-uid")])}a.preventDefault()}),y("body").on("click",".yop-poll-mc .yop-poll-modal .yop-poll-modal-close",function(a){var e=y(this).closest(".basic-yop-poll-container");y(this).closest(".yop-poll-modal").removeClass("active"),t(e),a.preventDefault()}),y("body").on("click",".yop-poll-mc .yop-poll-modal .yop-poll-login-button",function(a){var e=y(this).closest(".basic-yop-poll-container"),t=y(this).closest(".yop-poll-modal").find(".yop-poll-user-or-email-input").val(),s=y(this).closest(".yop-poll-modal").find(".yop-poll-password-input").val(),i=!0,o=[],n=[],r=0;y(e).find(".yop-poll-modal .yop-poll-modal-content").removeClass("shake"),""===t.trim()&&(i=!1,y(this).closest(".yop-poll-modal").find(".yop-poll-user-or-email-label").addClass("has-error")),!0===i&&""===s.trim()&&(i=!1,y(this).closest(".yop-poll-modal").find(".yop-poll-password-label").addClass("has-error")),!0===i&&(y("body").find('.basic-yop-poll-container[data-id!="'+y(e).attr("data-id")+'"]').each(function(a){n[a]=y(this).attr("data-id")}),y.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",async:!1,data:{action:"yop_poll_login_user",username:t,password:s,_token:y(e).find('input[name="_token"]').val(),pollId:y(e).attr("data-id"),pollsOnPage:n},success:function(a){if(!0===a.success){for(y(e).find(".yop-poll-modal").removeClass("active"),y(e).find('input[name="_token"]').val(a.data._token),r=0;r<a.data.tokens.length;r++)y("body").find('.basic-yop-poll-container[data-id="'+a.data.tokens[r].id+'"] input[name="_token"]').val(a.data.tokens[r].token);o.id="",o.firstName="",o.lastName="",o.email="",f(e,"wordpress",o)}else y(e).find(".yop-poll-modal .yop-poll-modal-content").addClass("shake")}})),a.preventDefault()}),y("body").on("blur",".yop-poll-mc .yop-poll-modal .yop-poll-user-or-email-input",function(a){""!==y(this).val().trim()&&y(this).closest(".yop-poll-form-group").find(".yop-poll-user-or-email-label").removeClass("has-error")}),y("body").on("blur",".yop-poll-mc .yop-poll-modal .yop-poll-password-input",function(a){""!==y(this).val().trim()&&y(this).closest(".yop-poll-form-group").find(".yop-poll-password-label").removeClass("has-error")}),b=function(a){y(a).find(".basic-overlay").find(".basic-vote-options").addClass("hide"),y(a).find(".basic-overlay").find(".basic-preloader").removeClass("hide")},t=function(a){y(a).find(".basic-overlay").find(".basic-vote-options").removeClass("hide"),y(a).find(".basic-overlay").addClass("hide")},e=function(a){},window.YOPPollReCaptchaFilled=e,window.YOPPollSendBasicVote=f,window.YOPPollBasicUpdateToken=a});